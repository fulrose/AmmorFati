Job launching after 0.12 seconds in submission.
Running python job.
Changed into dir /home/coala/spearmint/workspace/macs
Importing macs.py
Running macs.main()
INFO  @ Thu, 20 Sep 2018 17:50:33: 
# Command line: callpeak -t /home/coala/Documents/myData/Treat_chr1_myTest.bam -c /home/coala/Documents/myData/Control_chr1_myTest.bam --outdir ./temp --broad -f BAM -g hs -n test14 -q 1.0 -m 1 100
# ARGUMENTS LIST:
# name = test14
# format = BAM
# ChIP-seq file = ['/home/coala/Documents/myData/Treat_chr1_myTest.bam']
# control file = ['/home/coala/Documents/myData/Control_chr1_myTest.bam']
# effective genome size = 2.70e+09
# band width = 300
# model fold = [1, 100]
# qvalue cutoff for narrow/strong regions = 1.00e+00
# qvalue cutoff for broad/weak regions = 1.00e-01
# Larger dataset will be scaled towards smaller dataset.
# Range for calculating regional lambda is: 1000 bps and 10000 bps
# Broad region calling is on
# Paired-End mode is off
 
INFO  @ Thu, 20 Sep 2018 17:50:33: #1 read tag files... 
INFO  @ Thu, 20 Sep 2018 17:50:33: #1 read treatment tags... 
INFO  @ Thu, 20 Sep 2018 17:50:35: #1.2 read input tags... 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1 tag size is determined as 101 bps 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1 tag size = 101 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1  total tags in treatment: 252722 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1 user defined the maximum tags... 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1 filter out redundant tags at the same location and the same strand by allowing at most 1 tag(s) 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1  tags after filtering in treatment: 233395 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1  Redundant rate of treatment: 0.08 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1  total tags in control: 377207 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1 user defined the maximum tags... 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1 filter out redundant tags at the same location and the same strand by allowing at most 1 tag(s) 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1  tags after filtering in control: 374736 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1  Redundant rate of control: 0.01 
INFO  @ Thu, 20 Sep 2018 17:50:37: #1 finished! 
INFO  @ Thu, 20 Sep 2018 17:50:37: #2 Build Peak Model... 
INFO  @ Thu, 20 Sep 2018 17:50:37: #2 looking for paired plus/minus strand peaks... 
INFO  @ Thu, 20 Sep 2018 17:50:37: #2 number of paired peaks: 2701 
INFO  @ Thu, 20 Sep 2018 17:50:37: start model_add_line... 
INFO  @ Thu, 20 Sep 2018 17:50:37: start X-correlation... 
INFO  @ Thu, 20 Sep 2018 17:50:37: end of X-cor 
INFO  @ Thu, 20 Sep 2018 17:50:37: #2 finished! 
INFO  @ Thu, 20 Sep 2018 17:50:37: #2 predicted fragment length is 298 bps 
INFO  @ Thu, 20 Sep 2018 17:50:37: #2 alternative fragment length(s) may be 298 bps 
INFO  @ Thu, 20 Sep 2018 17:50:37: #2.2 Generate R script for model : ./temp/test14_model.r 
INFO  @ Thu, 20 Sep 2018 17:50:37: #3 Call peaks... 
Traceback (most recent call last):
  File "/usr/local/bin/macs2", line 617, in <module>
    main()
  File "/usr/local/bin/macs2", line 57, in main
    run( args )
  File "/usr/local/lib/python2.7/dist-packages/MACS2/callpeak_cmd.py", line 264, in run
    peakdetect.call_peaks()
  File "MACS2/PeakDetect.pyx", line 105, in MACS2.PeakDetect.PeakDetect.call_peaks (MACS2/PeakDetect.c:1632)
  File "MACS2/PeakDetect.pyx", line 269, in MACS2.PeakDetect.PeakDetect.__call_peaks_w_control (MACS2/PeakDetect.c:3510)
UnboundLocalError: local variable 'peaks' referenced before assignment
Traceback (most recent call last):
  File "/home/coala/spearmint/spearmint/launcher.py", line 243, in launch
    result = python_launcher(job)
  File "/home/coala/spearmint/spearmint/launcher.py", line 327, in python_launcher
    result = module.main(job['id'], params)
  File "/home/coala/spearmint/workspace/macs/macs.py", line 141, in main
    return macs(job_id, params['q'], params['m_min'], params['m_max'])
  File "/home/coala/spearmint/workspace/macs/macs.py", line 124, in macs
    subprocess.check_output(cmd, shell=True)
  File "/usr/lib/python2.7/subprocess.py", line 223, in check_output
    raise CalledProcessError(retcode, cmd, output=output)
CalledProcessError: Command 'macs2 callpeak -t /home/coala/Documents/myData/Treat_chr1_myTest.bam -c /home/coala/Documents/myData/Control_chr1_myTest.bam --outdir ./temp --broad -f BAM -g hs -n test14 -q 1.0 -m 1 100' returned non-zero exit status 1
Problem executing the function
Job failed in 4.39 seconds.
Anything printed here will end up in the output directory for job #14
{u'q': array([1.]), u'm_min': array([1]), u'm_max': array([100])}
(<class 'subprocess.CalledProcessError'>, CalledProcessError(), <traceback object at 0x7fcb25ce3200>)
